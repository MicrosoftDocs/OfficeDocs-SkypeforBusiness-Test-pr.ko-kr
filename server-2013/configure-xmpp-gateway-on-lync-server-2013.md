---
title: Lync Server 2013에서 XMPP 게이트웨이 구성
TOCTitle: Lync Server 2013에서 XMPP 게이트웨이 구성
ms:assetid: c70282e0-b502-47e2-a0be-a32eb1faf99d
ms:mtpsurl: https://technet.microsoft.com/ko-kr/library/JJ721881(v=OCS.15)
ms:contentKeyID: 49885975
ms.date: 08/10/2015
mtps_version: v=OCS.15
ms.translationtype: HT
---

# Lync Server 2013에서 XMPP 게이트웨이 구성

 

_**마지막으로 수정된 항목:** 2013-10-28_

XMPP 게이트웨이를 마이그레이션하는 마지막 단계는 Lync Server 2013 에지 서버의 인증서를 구성하고, Lync Server 2013 XMPP 게이트웨이를 배포한 후 XMPP 게이트웨이의 DNS 레코드를 업데이트하는 것입니다. 이러한 단계는 XMPP 게이트웨이의 중단 시간을 최소화하면서 병렬로 수행되어야 합니다. 또한 이러한 단계를 수행하기 전에 모든 사용자를 Microsoft Lync Server 2013 배포로 이동해야 합니다.


> [!IMPORTANT]  
> XMPP 페더레이션은 Survivable Branch Appliance에 있는 사용자에게 지원되지 않습니다. 이는 현재 상태 정보를 볼 때와 메신저 메시지를 교환할 때 모두 적용됩니다.



## Lync Server 2013 에지 서버에서 XMPP 게이트웨이 인증서 구성

1.  에지 서버의 배포 마법사에서 **3단계: 인증서 요청, 설치 또는 할당** 옆에 있는 **다시 실행** 을 클릭합니다.
    

    > [!TIP]  
    > 처음으로 에지 서버를 배포하는 경우 "다시 실행" 대신 "실행"이 나타납니다.



2.  **사용할 수 있는 인증서 작업** 페이지에서 **새 인증서 요청 만들기** 를 클릭합니다.

3.  **인증서 요청** 페이지에서 **외부 에지 인증서** 를 클릭합니다.

4.  **지연 또는 즉시 요청** 페이지에서 **지금 요청을 준비하고 나중에 보냅니다** 확인란을 선택합니다.

5.  **인증서 요청 파일** 페이지에 요청을 저장할 파일의 전체 경로 및 파일 이름(예: c:\\cert\_exernal\_edge.cer)을 입력합니다.

6.  **대체 인증서 템플릿 지정** 페이지에서 기본 WebServer 템플릿이 아닌 다른 템플릿을 사용하려면 **선택한 인증 기관에 대체 인증서 템플릿 사용** 확인란을 선택합니다.

7.  **이름 및 보안 설정** 페이지에서 다음을 수행합니다.
    
    1.  **이름** 에 인증서 표시 이름을 입력합니다.
    
    2.  **비트 길이** 에서 비트 길이를 지정합니다(일반적으로 기본값은 2048).
    
    3.  **인증서의 개인 키를 내보낼 수 있는 것으로 표시** 확인란이 선택되어 있는지 확인합니다.

8.  **조직 정보** 페이지에 조직 및 조직 구성 단위의 이름(예: 사업부 또는 부서)을 입력합니다.

9.  **지역 정보** 페이지에서 위치 정보를 지정합니다.

10. **주체 이름/주체 대체 이름** 페이지에 마법사에서 자동으로 채울 정보가 표시됩니다. 추가 주체 대체 이름이 필요한 경우 다음 두 단계에서 지정합니다.

11. **주체 대체 이름(SAN)에 대한 SIP 도메인 설정** 페이지에서 주체 대체 이름 목록에 sip.\<SIP 도메인\> 항목을 추가하려면 도메인 확인란을 선택합니다.

12. **추가 주체 대체 이름 구성** 페이지에서 필요한 추가 주체 대체 이름을 지정합니다.
    

    > [!TIP]  
    > XMPP 프록시가 설치된 경우 기본적으로 도메인 이름(예: contoso.com)이 SAN 항목에 채워집니다. 더 많은 항목이 필요한 경우 이 단계에서 추가합니다.



13. **요청 요약** 페이지에서 요청을 생성하는 데 사용할 인증서 정보를 검토합니다.

14. 명령 실행을 마치면 **로그 보기** 를 확인하거나 "다음"을 클릭하여 계속 진행합니다.

15. **인증서 요청 파일** 페이지에서 **보기** 를 클릭하여 생성된 인증서 서명 요청(CSR) 파일을 확인하거나, **마침** 을 클릭하여 인증서 마법사를 종료합니다.

16. 요청 파일을 복사하여 공용 CA(인증 기관)에 제출합니다.

17. 공용 인증서를 받아 가져오고 할당한 후 에지 서버 서비스를 중지한 다음 다시 시작해야 합니다. 이는 Lync Server 관리 콘솔에서 다음을 입력해서 수행할 수도 있습니다.
    
      ```
        Stop-CsWindowsService
    ```
    ```
        Start-CsWindowsService
    ```
    
## 새로운 Lync Server 2013 XMPP 게이트웨이 구성

1.  Lync Server 제어판을 엽니다.

2.  왼쪽 탐색 모음에서 **페더레이션 및 외부 액세스** 를 클릭한 다음 **XMPP 페더레이션 파트너** 를 클릭합니다.

3.  새 구성을 만들려면 **새로 만들기** 를 클릭합니다.

4.  다음 설정을 정의합니다.

5.  **기본 도메인**     (필수) 기본 도메인은 XMPP 파트너의 기반이 되는 도메인입니다. 예를 들어 XMPP 파트너 도메인 이름으로 **fabrikam.com**을 입력할 수 있습니다. 이는 필수 항목입니다.

6.  **설명**    설명은 이 특정 구성에 대한 참고 사항이거나 기타 식별 정보입니다. 이 항목은 선택 사항입니다.

7.  **추가 도메인**    추가 도메인은 허용된 XMPP 통신의 일부로 포함되어야 하는 XMPP 파트너 도메인에 속한 도메인입니다. 예를 들어 기본 도메인이 **fabrikam.com**인 경우 XMPP와 통신할 fabrikam.com 아래의 기타 모든 도메인을 나열할 수 있습니다.

8.  **파트너 유형**     **파트너 유형**은 필수 설정입니다. 추가 가능한 대화 상대를 설명하고 적용할 수 있도록 다음 옵션 중에서 하나를 선택해야 합니다.
    
      - **페더레이션**     **페더레이션** 파트너 유형은 Lync Server 배포 및 XMPP 파트너 간의 가장 높은 신뢰 수준을 나타냅니다. 이 파트너 유형은 동일한 기업 내에서 또는 비즈니스 관계가 체결된 경우 XMPP 서버와의 페더레이션에 사용하는 것이 좋습니다. 페더레이션 파트너의 XMPP 대화 상대는 다음을 수행할 수 있습니다.
        
        1.  Lync 사용자로부터의 명시적 권한 부여 없이 Lync 대화 상대를 추가하고 현재 상태를 볼 수 있습니다.
        
        2.  Lync 사용자가 자신의 대화 상대 목록에 추가했는지 여부와 상관없이 Lync 대화 상대에게 메신저 대화를 보낼 수 있습니다.
        
        3.  Lync 사용자의 상태 메모를 볼 수 있습니다.
    
      - **확인된 공공 파트너**     **확인된 공공 파트너**는 신뢰할 수 있는 공공 XMPP 공급자로, 해당 사용자의 ID를 확인할 수 있습니다. 확인된 공공 파트너 네트워크의 XMPP 대화 상대는 Lync 사용자로부터의 명시적 권한 부여 없이 Lync 대화 상대를 추가하고 현재 상태를 보고 메신저 대화를 보낼 수 있습니다. 확인된 공공 파트너 네트워크의 XMPP 대화 상대는 Lync 사용자의 상태 메모를 볼 수 없습니다. 이 설정은 권장되지 않습니다.
    
      - **확인되지 않은 공공 파트너**     **확인되지 않은 공공 파트너**는 신뢰할 수 없는 공공 XMPP 공급자로, 해당 사용자의 ID를 확인할 수 없습니다. 확인되지 않은 공공 파트너 네트워크의 XMPP 사용자는 Lync 사용자가 대화 상대 목록에 추가하여 명시적으로 권한을 부여하지 않는 한 Lync 사용자와 통신할 수 없습니다. 확인되지 않은 공공 파트너 네트워크의 XMPP 사용자는 Lync 사용자의 상태 메모를 볼 수 없습니다. 이 설정은 Google Talk과 같은 공공 XMPP 공급자와 페더레이션을 구성한 경우에 권장됩니다.

9.  **연결 형식:** 다양한 규칙 및 다이얼백 설정을 정의합니다.
    
      - **TLS 협상**    TLS 협상 규칙을 정의합니다. XMPP 서비스에 대해 TLS를 필수, 선택 사항 또는 지원 안 됨으로 설정할 수 있습니다. "선택 사항"으로 설정하는 경우 협상 필수 항목 결정을 위해 요구 사항을 최대한 XMPP 서비스까지 그대로 둘 수 있습니다. 유효하지 않은 구성, 알려진 오류 구성 등 가능한 모든 설정과 SASL, TLS 및 다이얼백에 대한 자세한 내용을 보려면 [Lync Server 2013의 XMPP 페더레이션 파트너의 협상 설정](lync-server-2013-negotiation-settings-for-xmpp-federated-partners.md) 섹션을 참조하십시오.
        
          -   
            **필수**    XMPP 서비스에 TLS 협상이 필요합니다.
        
          -   
            **선택 사항**    XMPP 서비스는 TLS가 협상 필수 항목임을 나타냅니다.
        
          -   
            **지원 안 됨**    XMPP 서비스가 TLS를 지원하지 않습니다.
    
      - **SASL 협상**    SASL 협상 규칙을 정의합니다. XMPP 서비스에 대해 SASL를 필수, 선택 사항 또는 지원 안 됨으로 설정할 수 있습니다. "선택 사항"으로 설정하는 경우 협상 필수 항목 결정을 위해 요구 사항을 최대한 파트너 XMPP 서비스까지 그대로 둘 수 있습니다.
        
          -   
            **필수**    XMPP 서비스에 SASL 협상이 필요합니다.
        
          -   
            **선택 사항**    XMPP 서비스는 SASL가 협상 필수 항목임을 나타냅니다.
        
          -   
            **지원 안 됨**    XMPP 서비스가 SASL를 지원하지 않습니다.
    
      - **전화 접속 회의 협상 지원** 전화 접속 회의 협상 지원 프로세스에서는 유효한 XMPP 파트너로부터 요청이 왔는지를 확인하기 위해 DNS(Domain Name System) 및 권한 있는 서버가 사용됩니다. 이를 위해 원래 서버는 생성된 다이얼백 키가 있는 특정 유형의 메시지를 생성하고 DNS의 수신 서버를 조회합니다. 원래 서버는 XML 스트림으로 키를 결과 DNS 조회(주로 수신 서버)에 보냅니다. XML 스트림을 통해 키를 받은 수신 서버는 원래 서버에 응답하지 않지만 알려진 권한 있는 서버에 키를 전송합니다. 권한 있는 서버는 키가 유효한지 여부를 확인합니다. 키가 유효하지 않으면 수신 서버는 원래 서버에 응답하지 않고, 키가 유효하면 수신 서버가 원래 서버에게 ID와 키가 유효하며 대화를 시작할 수 있음을 알립니다.
        
        **전화 접속 회의 협상**의 유효한 두 상태는 다음과 같습니다.
        
          -   
            **참**    원래 서버에서 요청이 수신되는 경우 XMPP 서버는 전화 접속 회의 협상을 사용하도록 구성되어 있습니다.
        
          -   
            **거짓**    원래 서버에서 요청이 수신되는 경우 XMPP 서버는 전화 접속 회의 협상을 사용하도록 구성되어 있지 않으며, 원래 서버를 무시합니다.

10. **커밋** 을 클릭하여 변경 내용을 사이트 또는 사용자 정책에 저장합니다.

## Lync Server 2013 XMPP 게이트웨이의 DNS 레코드 업데이트

1.  XMPP 페더레이션의 DNS를 구성하려면 외부 DNS:\_xmpp-server.\_tcp.\<도메인 이름\>에 다음 SRV 레코드를 추가해야 합니다. SRV 레코드는 포트 값 5269와 함께 에지 서버의 액세스 에지 FQDN으로 확인됩니다.

